# Next Admin å®Œå…¨ã‚¬ã‚¤ãƒ‰

> **æœ€çµ‚æ›´æ–°**: 2025-12-02
> **ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 8.4.1 (æœ€æ–°)
> **å…¬å¼ã‚µã‚¤ãƒˆ**: https://next-admin.js.org > **GitHub**: https://github.com/premieroctet/next-admin > **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: https://next-admin-docs.vercel.app

## ğŸ“‹ ç›®æ¬¡

1. [æ¦‚è¦](#æ¦‚è¦)
2. [ä¸»è¦æ©Ÿèƒ½](#ä¸»è¦æ©Ÿèƒ½)
3. [ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](#ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«)
4. [åŸºæœ¬ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#åŸºæœ¬ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
5. [è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³](#è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³)
6. [ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º](#ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º)
7. [å¯¾å¿œãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯](#å¯¾å¿œãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯)
8. [å®Ÿè·µä¾‹](#å®Ÿè·µä¾‹)
9. [ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹](#ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹)
10. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

---

## æ¦‚è¦

### Next Admin ã¨ã¯ï¼Ÿ

**Next Admin** ã¯ã€Prisma ORM ã¨ React ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ (Next.js, Remix, TanStack Start) ã§æ§‹ç¯‰ã•ã‚ŒãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å‘ã‘ã®ã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªã‚¿ãƒ¼ãƒ³ã‚­ãƒ¼ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚

### ç‰¹å¾´

- ğŸ¯ **ã‚¿ãƒ¼ãƒ³ã‚­ãƒ¼ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³**: ã™ãã«ä½¿ãˆã‚‹ç®¡ç†ç”»é¢
- ğŸ”§ **é«˜åº¦ãªã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**: å¤–è¦³ã¨å‹•ä½œã‚’å®Œå…¨ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½
- ğŸ—„ï¸ **Prisma çµ±åˆ**: Prisma ã‚¹ã‚­ãƒ¼ãƒã‹ã‚‰è‡ªå‹•ç”Ÿæˆ
- âš¡ **é«˜é€Ÿã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**: CLI ã§æ•°åˆ†ã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†
- ğŸ¨ **ãƒ¢ãƒ€ãƒ³ãª UI**: TailwindCSS ãƒ™ãƒ¼ã‚¹ã®ãƒ‡ã‚¶ã‚¤ãƒ³

### ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹

- ç¤¾å†…ç®¡ç†ãƒ„ãƒ¼ãƒ«ã®æ§‹ç¯‰
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç† GUI
- CRUD æ“ä½œãŒå¿…è¦ãªãƒãƒƒã‚¯ã‚ªãƒ•ã‚£ã‚¹
- MVP ã®ç®¡ç†ç”»é¢ã‚’ç´ æ—©ãæ§‹ç¯‰

---

## ä¸»è¦æ©Ÿèƒ½

### âœ… ã‚³ã‚¢æ©Ÿèƒ½

| æ©Ÿèƒ½                     | èª¬æ˜                                           |
| ------------------------ | ---------------------------------------------- |
| ğŸ’… **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½**  | ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®å¤–è¦³ã¨å‹•ä½œã‚’è‡ªç”±ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º |
| ğŸ’½ **ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†**  | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ãƒƒãƒ—ã‚’ç®¡ç†         |
| ğŸ‘©â€ğŸ’» **ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†**      | CRUD æ“ä½œã‚’ã‚µãƒãƒ¼ãƒˆ                            |
| ğŸ¨ **ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ**      | ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ   |
| âš›ï¸ **Prisma çµ±åˆ**       | Prisma ORM ã¨ã®å®Œå…¨ãªçµ±åˆ                      |
| ğŸ‘” **ãƒªã‚¹ãƒˆ & ãƒ•ã‚©ãƒ¼ãƒ ** | ãƒªã‚¹ãƒˆãƒ“ãƒ¥ãƒ¼ã¨ãƒ•ã‚©ãƒ¼ãƒ ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º           |
| ğŸ” **æ¤œç´¢ & ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼** | å¼·åŠ›ãªæ¤œç´¢ã¨ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½                     |
| ğŸŒ **i18n ã‚µãƒãƒ¼ãƒˆ**     | å¤šè¨€èªå¯¾å¿œ                                     |
| ğŸ¨ **ãƒ†ãƒ¼ãƒ**            | ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ                               |

### ğŸš€ å¯¾å¿œãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯

- **Next.js** (App Router / Pages Router)
- **Remix**
- **TanStack Start**
- **ä»»æ„ã®ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**

---

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### æ–¹æ³• 1: CLI ã‚’ä½¿ç”¨ (æ¨å¥¨)

**æœ€ã‚‚ç°¡å˜ãªæ–¹æ³•**ã§ã™ã€‚CLI ãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™ã€‚

```bash
npx @premieroctet/next-admin-cli@latest init
```

**ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ç¢ºèª**:

```bash
npx @premieroctet/next-admin-cli@latest init --help
```

âš ï¸ **æ³¨æ„**: CLI ã¯ç¾åœ¨ Next.js ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã¿ã‚µãƒãƒ¼ãƒˆ

### æ–¹æ³• 2: æ‰‹å‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

#### 1. ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# yarn
yarn add @premieroctet/next-admin @premieroctet/next-admin-generator-prisma

# npm
npm install @premieroctet/next-admin @premieroctet/next-admin-generator-prisma

# pnpm
pnpm add @premieroctet/next-admin @premieroctet/next-admin-generator-prisma
```

#### 2. TailwindCSS ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

Next Admin ã¯ TailwindCSS ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

**Tailwind v4 ã®å ´åˆ**:

```css
/* styles.css */
@import "tailwindcss";
@import "@premieroctet/next-admin/theme";
@source "./node_modules/@premieroctet/next-admin/dist";
```

**Tailwind v3 ä»¥ä¸‹ã®å ´åˆ**:

```js
// tailwind.config.js
module.exports = {
  presets: [require("@premieroctet/next-admin/preset")],
  content: [
    // ... your content
    "./node_modules/@premieroctet/next-admin/**/*.{js,ts,jsx,tsx}",
  ],
};
```

#### 3. Prisma ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

**schema.prisma ã« generator ã‚’è¿½åŠ **:

```prisma
generator nextAdmin {
  provider = "next-admin-generator-prisma"
}
```

âš ï¸ **é‡è¦**: æ–°ã—ã„ Prisma Client generator ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€Next-Admin generator ã¯ Prisma Client generator ã®**å¾Œã«**é…ç½®ã—ã¦ãã ã•ã„ã€‚

**ã‚¹ã‚­ãƒ¼ãƒã‚’ç”Ÿæˆ**:

```bash
yarn run prisma generate
```

---

## åŸºæœ¬ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### Next.js App Router

#### 1. ç®¡ç†ç”»é¢ãƒšãƒ¼ã‚¸ã‚’ä½œæˆ

**`app/admin/[[...nextadmin]]/page.tsx`**:

```typescript
import { PageProps } from "@premieroctet/next-admin";
import { getNextAdminProps } from "@premieroctet/next-admin/appRouter";
import { NextAdmin } from "@premieroctet/next-admin/adapters/next";
import { prisma } from "@/prisma";
import "@/styles.css"; // Tailwind CSS

export default async function AdminPage({ params, searchParams }: PageProps) {
  const props = await getNextAdminProps({
    params: params.nextadmin,
    searchParams,
    basePath: "/admin",
    apiBasePath: "/api/admin",
    prisma,
    // options (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
  });

  return <NextAdmin {...props} />;
}
```

âš ï¸ **æ³¨æ„ç‚¹**:

- `use client` ã‚’ä½¿ç”¨ã—ãªã„ã§ãã ã•ã„ï¼ˆServer Component ã¨ã—ã¦å‹•ä½œï¼‰
- App Router ã§ã¯ `options` prop ã«é–¢æ•°ã‚’å«ã‚ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™
- `suppressHydrationWarning` ã‚’æœ€ã‚‚è¿‘ã„ `<html>` ã‚¿ã‚°ã«è¿½åŠ ã—ã¦ãã ã•ã„ï¼ˆãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œã®ãŸã‚ï¼‰

#### 2. API ãƒ«ãƒ¼ãƒˆã‚’ä½œæˆ

**`app/api/admin/[[...nextadmin]]/route.ts`**:

```typescript
import { prisma } from "@/prisma";
import { createHandler } from "@premieroctet/next-admin/appHandler";

const { run } = createHandler({
  apiBasePath: "/api/admin",
  prisma,
  // options (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
});

export { run as DELETE, run as GET, run as POST };
```

### Next.js Pages Router

#### 1. ç®¡ç†ç”»é¢ãƒšãƒ¼ã‚¸ã‚’ä½œæˆ

**`pages/admin/[[...nextadmin]].tsx`**:

```typescript
import { GetServerSideProps } from "next";
import { getNextAdminProps } from "@premieroctet/next-admin/pageRouter";
import { NextAdmin } from "@premieroctet/next-admin/adapters/next";
import { prisma } from "@/prisma";
import { options } from "./options";

export default function Admin(props: any) {
  return <NextAdmin {...props} options={options} />;
}

export const getServerSideProps: GetServerSideProps = async (context) => {
  const props = await getNextAdminProps({
    params: context.params?.nextadmin as string[],
    searchParams: context.query,
    basePath: "/admin",
    apiBasePath: "/api/admin",
    prisma,
    options,
  });

  return {
    props,
  };
};
```

#### 2. API ãƒ«ãƒ¼ãƒˆã‚’ä½œæˆ

**`pages/api/admin/[[...nextadmin]].ts`**:

```typescript
import { NextApiRequest, NextApiResponse } from "next";
import { createHandler } from "@premieroctet/next-admin/pageHandler";
import { prisma } from "@/prisma";
import { options } from "../../admin/options";

const { run } = createHandler({
  apiBasePath: "/api/admin",
  prisma,
  options,
});

export default async function handler(
  req: NextApiRequest,
  res: NextApiResponse
) {
  return run(req, res);
}
```

### ä½¿ç”¨æ–¹æ³•

ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†å¾Œã€ä»¥ä¸‹ã® URL ã«ã‚¢ã‚¯ã‚»ã‚¹:

```
http://localhost:3000/admin
```

---

## è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³

### NextAdminOptions ã®æ§‹é€ 

ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä¸€å…ƒç®¡ç†ã™ã‚‹ãŸã‚ã€åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«å®šç¾©ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚

**`app/admin/options.ts`** (ã¾ãŸã¯ `options.tsx`):

```typescript
import { NextAdminOptions } from "@premieroctet/next-admin";

export const options: NextAdminOptions = {
  // ã‚¿ã‚¤ãƒˆãƒ«
  title: "âš¡ï¸ My Admin Dashboard",

  // ãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¹
  basePath: "/admin",

  // ãƒ¢ãƒ‡ãƒ«è¨­å®š
  model: {
    User: {
      toString: (user) => `${user.name} (${user.email})`,
      title: "Users",
      icon: "UsersIcon", // Heroicons
      list: {
        display: ["name", "email", "role", "createdAt"],
        search: ["name", "email"],
        filters: [
          {
            name: "is Admin",
            active: false,
            value: {
              role: {
                equals: "ADMIN",
              },
            },
          },
        ],
      },
      edit: {
        display: ["name", "email", "role", "posts"],
      },
    },
    Post: {
      toString: (post) => `${post.title}`,
      title: "Posts",
      icon: "DocumentTextIcon",
      list: {
        display: ["title", "published", "author", "createdAt"],
        search: ["title", "content"],
      },
    },
    Category: {
      toString: (category) => `${category.name}`,
      title: "Categories",
      icon: "InboxStackIcon",
      list: {
        display: ["name", "posts"],
      },
    },
  },

  // ã‚«ã‚¹ã‚¿ãƒ ãƒšãƒ¼ã‚¸
  pages: {
    "/custom": {
      title: "Custom page",
      icon: "AdjustmentsHorizontalIcon",
    },
  },

  // å¤–éƒ¨ãƒªãƒ³ã‚¯
  externalLinks: [
    {
      label: "Website",
      url: "https://www.myblog.com",
    },
  ],

  // ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—
  sidebar: {
    groups: [
      {
        title: "Users",
        models: ["User"],
      },
      {
        title: "Content",
        models: ["Post", "Category"],
      },
    ],
  },
};
```

### ãƒ¢ãƒ‡ãƒ«è¨­å®šã®è©³ç´°

#### `toString`

ãƒ¢ãƒ‡ãƒ«ã®æ–‡å­—åˆ—è¡¨ç¾ã‚’å®šç¾©ã—ã¾ã™ï¼ˆãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¡¨ç¤ºãªã©ã§ä½¿ç”¨ï¼‰ã€‚

```typescript
toString: (user) => `${user.name} (${user.email})`;
```

#### `list` - ãƒªã‚¹ãƒˆãƒ“ãƒ¥ãƒ¼è¨­å®š

```typescript
list: {
  display: ["name", "email", "role"],  // è¡¨ç¤ºã™ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  search: ["name", "email"],            // æ¤œç´¢å¯¾è±¡ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  filters: [                            // ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼å®šç¾©
    {
      name: "Active users",
      active: false,
      value: {
        isActive: { equals: true }
      }
    }
  ],
  fields: {                             // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã”ã¨ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
    email: {
      formatter: (value) => value.toLowerCase()
    }
  }
}
```

#### `edit` - ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ è¨­å®š

```typescript
edit: {
  display: ["name", "email", "role"],  // ç·¨é›†å¯èƒ½ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  fields: {
    password: {
      validate: (value) => value.length >= 8,
      helperText: "8æ–‡å­—ä»¥ä¸Š"
    }
  }
}
```

### ã‚¢ã‚¤ã‚³ãƒ³

Next Admin ã¯ **Heroicons** ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

åˆ©ç”¨å¯èƒ½ãªã‚¢ã‚¤ã‚³ãƒ³:

- `UsersIcon`
- `DocumentTextIcon`
- `InboxStackIcon`
- `AdjustmentsHorizontalIcon`
- ãªã©

å‚è€ƒ: https://heroicons.com

---

## ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¡¨ç¤º

#### ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼

```typescript
list: {
  fields: {
    createdAt: {
      formatter: (value: Date) => {
        return new Intl.DateTimeFormat('ja-JP').format(value);
      }
    },
    email: {
      formatter: (value: string, context) => {
        return <a href={`mailto:${value}`}>{value}</a>;
      }
    }
  }
}
```

#### ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```typescript
edit: {
  fields: {
    content: {
      input: (props) => {
        return <CustomRichTextEditor {...props} />;
      };
    }
  }
}
```

### ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒãƒ³ãƒ‰ãƒ©ãƒ¼

#### ä½œæˆ/æ›´æ–°/å‰Šé™¤ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

```typescript
export const options: NextAdminOptions = {
  model: {
    User: {
      handlers: {
        beforeCreate: async (data, context) => {
          // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ãƒãƒƒã‚·ãƒ¥åŒ–
          if (data.password) {
            data.password = await hashPassword(data.password);
          }
          return data;
        },
        afterUpdate: async (data, context) => {
          // æ›´æ–°å¾Œã®å‡¦ç†ï¼ˆé€šçŸ¥ãªã©ï¼‰
          await sendNotification(data.id);
        },
        beforeDelete: async (id, context) => {
          // å‰Šé™¤å‰ã®ãƒã‚§ãƒƒã‚¯
          const hasRelatedData = await checkRelations(id);
          if (hasRelatedData) {
            throw new Error("Cannot delete user with related data");
          }
        },
      },
    },
  },
};
```

### ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ

```typescript
// app/admin/[[...nextadmin]]/page.tsx
export default async function AdminPage({ params, searchParams }: PageProps) {
  const props = await getNextAdminProps({
    params: params.nextadmin,
    searchParams,
    basePath: "/admin",
    apiBasePath: "/api/admin",
    prisma,
    options,
  });

  return (
    <NextAdmin
      {...props}
      dashboard={{
        widgets: [
          {
            title: "Total Users",
            value: await prisma.user.count(),
          },
          {
            title: "Active Posts",
            value: await prisma.post.count({ where: { published: true } }),
          },
        ],
      }}
    />
  );
}
```

### èªè¨¼

Next Admin ã¯èªè¨¼æ©Ÿèƒ½ã‚’æä¾›ã—ã¦ã„ã¾ã›ã‚“ã€‚æ—¢å­˜ã®èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã¨çµ±åˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

#### NextAuth.js ã®ä¾‹

```typescript
// app/admin/[[...nextadmin]]/page.tsx
import { getServerSession } from "next-auth";
import { redirect } from "next/navigation";
import { authOptions } from "@/lib/auth";

export default async function AdminPage({ params, searchParams }: PageProps) {
  const session = await getServerSession(authOptions);

  if (!session || session.user.role !== "ADMIN") {
    redirect("/login");
  }

  const props = await getNextAdminProps({
    params: params.nextadmin,
    searchParams,
    basePath: "/admin",
    apiBasePath: "/api/admin",
    prisma,
    options,
  });

  return <NextAdmin {...props} />;
}
```

### ãƒ†ãƒ¼ãƒã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

#### ã‚«ãƒ©ãƒ¼ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

```css
/* styles.css */
@import "tailwindcss";
@import "@premieroctet/next-admin/theme";

:root {
  --nextadmin-primary: 59 130 246; /* blue-500 */
  --nextadmin-success: 34 197 94; /* green-500 */
  --nextadmin-error: 239 68 68; /* red-500 */
}

[data-theme="dark"] {
  --nextadmin-primary: 96 165 250; /* blue-400 */
}
```

---

## å¯¾å¿œãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯

### Next.js

âœ… **å®Œå…¨ã‚µãƒãƒ¼ãƒˆ**

- App Router (æ¨å¥¨)
- Pages Router

### Remix

```typescript
// app/routes/admin.$.tsx
import { LoaderFunction } from "@remix-run/node";
import { useLoaderData } from "@remix-run/react";
import { NextAdmin } from "@premieroctet/next-admin/adapters/remix";
import { getNextAdminProps } from "@premieroctet/next-admin/remix";
import { prisma } from "~/prisma";

export const loader: LoaderFunction = async ({ request, params }) => {
  const props = await getNextAdminProps({
    params: params["*"]?.split("/") ?? [],
    searchParams: new URL(request.url).searchParams,
    basePath: "/admin",
    apiBasePath: "/api/admin",
    prisma,
  });

  return props;
};

export default function Admin() {
  const props = useLoaderData<typeof loader>();
  return <NextAdmin {...props} />;
}
```

### TanStack Start

è©³ç´°ã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§: https://next-admin-docs.vercel.app/docs/frameworks-support

---

## å®Ÿè·µä¾‹

### ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ–ãƒ­ã‚°ç®¡ç†

#### Prisma ã‚¹ã‚­ãƒ¼ãƒ

```prisma
model User {
  id        String   @id @default(cuid())
  email     String   @unique
  name      String?
  role      Role     @default(USER)
  posts     Post[]
  createdAt DateTime @default(now())
}

model Post {
  id         String     @id @default(cuid())
  title      String
  content    String?
  published  Boolean    @default(false)
  author     User       @relation(fields: [authorId], references: [id])
  authorId   String
  categories Category[]
  createdAt  DateTime   @default(now())
  updatedAt  DateTime   @updatedAt
}

model Category {
  id    String @id @default(cuid())
  name  String @unique
  posts Post[]
}

enum Role {
  USER
  ADMIN
}

generator nextAdmin {
  provider = "next-admin-generator-prisma"
}

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}
```

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³è¨­å®š

```typescript
// app/admin/options.ts
import { NextAdminOptions } from "@premieroctet/next-admin";

export const options: NextAdminOptions = {
  title: "ğŸ“ Blog Admin",
  model: {
    User: {
      toString: (user) => `${user.name ?? user.email}`,
      title: "Users",
      icon: "UsersIcon",
      list: {
        display: ["name", "email", "role", "createdAt"],
        search: ["name", "email"],
        filters: [
          {
            name: "Admins only",
            active: false,
            value: { role: { equals: "ADMIN" } },
          },
        ],
      },
      edit: {
        display: ["name", "email", "role"],
      },
    },
    Post: {
      toString: (post) => post.title,
      title: "Posts",
      icon: "DocumentTextIcon",
      list: {
        display: ["title", "author", "published", "createdAt"],
        search: ["title", "content"],
        filters: [
          {
            name: "Published",
            active: false,
            value: { published: { equals: true } },
          },
        ],
      },
      edit: {
        display: ["title", "content", "published", "author", "categories"],
      },
    },
    Category: {
      toString: (category) => category.name,
      title: "Categories",
      icon: "InboxStackIcon",
      list: {
        display: ["name", "posts"],
      },
      edit: {
        display: ["name", "posts"],
      },
    },
  },
  sidebar: {
    groups: [
      {
        title: "Content",
        models: ["Post", "Category"],
      },
      {
        title: "Users",
        models: ["User"],
      },
    ],
  },
};
```

---

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### ğŸ¯ è¨­è¨ˆåŸå‰‡

#### 1. ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä¸€å…ƒç®¡ç†

```typescript
// âŒ æ‚ªã„ä¾‹: ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’å„ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ†æ•£
// page.tsx ã¨ route.ts ã§ç•°ãªã‚‹è¨­å®šã«ãªã‚‹å¯èƒ½æ€§

// âœ… è‰¯ã„ä¾‹: ä¸€ç®‡æ‰€ã§ç®¡ç†
// app/admin/options.ts ã§å®šç¾©
// page.tsx ã¨ route.ts ã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
```

#### 2. å‹å®‰å…¨æ€§ã‚’æ´»ç”¨

```typescript
// âœ… è‰¯ã„ä¾‹: å‹ã‚’æ´»ç”¨
import { NextAdminOptions } from "@premieroctet/next-admin";
import { User } from "@prisma/client";

export const options: NextAdminOptions = {
  model: {
    User: {
      toString: (user: User) => `${user.name}`, // å‹å®‰å…¨
    },
  },
};
```

#### 3. Server Component ã‚’æ´»ç”¨ (App Router)

```typescript
// âœ… è‰¯ã„ä¾‹: async Server Component
export default async function AdminPage({ params, searchParams }: PageProps) {
  // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒªã‚’ç›´æ¥å®Ÿè¡Œ
  const userCount = await prisma.user.count();

  const props = await getNextAdminProps({
    params: params.nextadmin,
    searchParams,
    basePath: "/admin",
    apiBasePath: "/api/admin",
    prisma,
  });

  return (
    <NextAdmin
      {...props}
      dashboard={{
        widgets: [{ title: "Total Users", value: userCount }],
      }}
    />
  );
}
```

### ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

#### èªè¨¼ã¯å¿…é ˆ

```typescript
// âœ… å¿…ãšèªè¨¼ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè£…
export default async function AdminPage({ params, searchParams }: PageProps) {
  const session = await getServerSession(authOptions);

  if (!session?.user || session.user.role !== "ADMIN") {
    redirect("/login");
  }

  // ... rest of the code
}
```

#### API ãƒ«ãƒ¼ãƒˆã‚‚ä¿è­·

```typescript
// app/api/admin/[[...nextadmin]]/route.ts
import { getServerSession } from "next-auth";
import { authOptions } from "@/lib/auth";
import { NextRequest, NextResponse } from "next/server";

const { run } = createHandler({
  apiBasePath: "/api/admin",
  prisma,
});

const handler = async (req: NextRequest) => {
  const session = await getServerSession(authOptions);

  if (!session?.user || session.user.role !== "ADMIN") {
    return NextResponse.json({ error: "Unauthorized" }, { status: 401 });
  }

  return run(req);
};

export { handler as GET, handler as POST, handler as DELETE };
```

### ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

#### ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®æœ€é©åŒ–

```typescript
// Prisma ã‚¹ã‚­ãƒ¼ãƒã§ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’è¿½åŠ 
model Post {
  id        String   @id @default(cuid())
  title     String
  authorId  String
  author    User     @relation(fields: [authorId], references: [id])

  @@index([authorId]) // ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¿½åŠ 
}
```

#### ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š

```typescript
export const options: NextAdminOptions = {
  model: {
    Post: {
      list: {
        display: ["title", "author", "createdAt"],
        // è¡¨ç¤ºä»¶æ•°ã‚’åˆ¶é™
        perPage: 20,
      },
    },
  },
};
```

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

#### 1. `options` prop ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ

**å•é¡Œ**: App Router ã§é–¢æ•°ã‚’å«ã‚€ `options` ã‚’æ¸¡ã™ã¨ã‚¨ãƒ©ãƒ¼

```
Error: Functions cannot be passed directly to Client Components
```

**è§£æ±ºç­–**: App Router ã§ã¯ `options` prop ã‚’ `NextAdmin` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æ¸¡ã•ãªã„

```typescript
// âŒ æ‚ªã„ä¾‹
<NextAdmin {...props} options={options} />

// âœ… è‰¯ã„ä¾‹
<NextAdmin {...props} />
```

#### 2. ã‚¹ã‚¿ã‚¤ãƒ«ãŒé©ç”¨ã•ã‚Œãªã„

**å•é¡Œ**: Tailwind CSS ãŒé©ç”¨ã•ã‚Œãªã„

**è§£æ±ºç­–**:

1. CSS ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

```typescript
import "@/styles.css";
```

2. Tailwind è¨­å®šã‚’ç¢ºèª

```css
/* styles.css */
@import "tailwindcss";
@import "@premieroctet/next-admin/theme";
@source "./node_modules/@premieroctet/next-admin/dist";
```

#### 3. Hydration ã‚¨ãƒ©ãƒ¼

**å•é¡Œ**: ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ä½¿ç”¨æ™‚ã® Hydration warning

**è§£æ±ºç­–**: `<html>` ã‚¿ã‚°ã« `suppressHydrationWarning` ã‚’è¿½åŠ 

```tsx
// app/layout.tsx
export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="ja" suppressHydrationWarning>
      <body>{children}</body>
    </html>
  );
}
```

#### 4. Prisma generator ãŒå‹•ä½œã—ãªã„

**å•é¡Œ**: `prisma generate` ã‚’å®Ÿè¡Œã—ã¦ã‚‚ã‚¹ã‚­ãƒ¼ãƒãŒç”Ÿæˆã•ã‚Œãªã„

**è§£æ±ºç­–**:

1. generator ã®é †åºã‚’ç¢ºèªï¼ˆPrisma Client ã®å¾Œã« Next Adminï¼‰

```prisma
generator client {
  provider = "prisma-client-js"
}

generator nextAdmin {
  provider = "next-admin-generator-prisma"
}
```

2. node_modules ã‚’ã‚¯ãƒªãƒ¼ãƒ³ã—ã¦å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
rm -rf node_modules
rm -rf .next
npm install
npx prisma generate
```

#### 5. ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚Œãªã„

**å•é¡Œ**: å¤–éƒ¨ã‚­ãƒ¼ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œãªã„

**è§£æ±ºç­–**: `toString` ã‚’å®šç¾©

```typescript
model: {
  Post: {
    toString: (post) => post.title,
  },
  User: {
    toString: (user) => user.name,
  },
}
```

---

## å‚è€ƒãƒªãƒ³ã‚¯

### å…¬å¼ãƒªã‚½ãƒ¼ã‚¹

- **å…¬å¼ã‚µã‚¤ãƒˆ**: https://next-admin.js.org
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: https://next-admin-docs.vercel.app
- **GitHub**: https://github.com/premieroctet/next-admin
- **ãƒ‡ãƒ¢**: https://next-admin-po.vercel.app
- **npm**: https://www.npmjs.com/package/@premieroctet/next-admin

### é–¢é€£æŠ€è¡“

- **Prisma**: https://www.prisma.io
- **Next.js**: https://nextjs.org
- **TailwindCSS**: https://tailwindcss.com
- **Heroicons**: https://heroicons.com

### ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£

- **GitHub Issues**: https://github.com/premieroctet/next-admin/issues
- **GitHub Discussions**: https://github.com/premieroctet/next-admin/discussions

---

## ã¾ã¨ã‚

### Next Admin ã‚’é¸ã¶ã¹ãç†ç”±

âœ… **ã™ãã«ä½¿ãˆã‚‹**: CLI ã§æ•°åˆ†ã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†
âœ… **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½**: ãƒ‹ãƒ¼ã‚ºã«åˆã‚ã›ã¦æŸ”è»Ÿã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
âœ… **Prisma çµ±åˆ**: ã‚¹ã‚­ãƒ¼ãƒã‹ã‚‰è‡ªå‹•ç”Ÿæˆ
âœ… **ãƒ¢ãƒ€ãƒ³ãª UI**: TailwindCSS ãƒ™ãƒ¼ã‚¹ã®ç¾ã—ã„ãƒ‡ã‚¶ã‚¤ãƒ³
âœ… **è¤‡æ•°ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å¯¾å¿œ**: Next.js, Remix, TanStack Start

### Next Admin ãŒé©ã—ã¦ã„ã‚‹å ´é¢

- ç¤¾å†…ãƒ„ãƒ¼ãƒ«ã®ç®¡ç†ç”»é¢
- MVP ã®ç®¡ç†ç”»é¢ã‚’ç´ æ—©ãæ§‹ç¯‰
- Prisma ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
- ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§ã®é«˜ã„ç®¡ç†ç”»é¢ãŒå¿…è¦

### Next Admin ãŒé©ã—ã¦ã„ãªã„å ´é¢

- é«˜åº¦ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã•ã‚ŒãŸ UI ãŒå¿…è¦ï¼ˆã‚¼ãƒ­ã‹ã‚‰æ§‹ç¯‰ã—ãŸæ–¹ãŒè‰¯ã„ï¼‰
- Prisma ä»¥å¤–ã® ORM ã‚’ä½¿ç”¨
- ç®¡ç†ç”»é¢ä»¥å¤–ã®è¤‡é›‘ãª UI

---

**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**: [ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ](../../Projects/next-admin-sample/README.md)
