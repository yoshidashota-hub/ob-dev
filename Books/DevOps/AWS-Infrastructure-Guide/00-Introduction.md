# 第0章: はじめに

## AWS とは

Amazon Web Services - クラウドコンピューティングプラットフォーム。

```
┌─────────────────────────────────────────────────────┐
│                  AWS Services                        │
│                                                     │
│  ┌─────────────────────────────────────────────┐   │
│  │              Compute                         │   │
│  │  Lambda │ ECS │ EC2 │ Fargate               │   │
│  └─────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────┐   │
│  │              Storage                         │   │
│  │  S3 │ EBS │ EFS │ Glacier                   │   │
│  └─────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────┐   │
│  │              Database                        │   │
│  │  RDS │ DynamoDB │ Aurora │ ElastiCache      │   │
│  └─────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────┐   │
│  │              Network                         │   │
│  │  VPC │ CloudFront │ Route53 │ API Gateway   │   │
│  └─────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────┘
```

## リージョンと AZ

```
┌─────────────────────────────────────────────────────┐
│              AWS Global Infrastructure               │
│                                                     │
│  Region: ap-northeast-1 (東京)                      │
│  ┌─────────────────────────────────────────────┐   │
│  │  AZ-a        AZ-c        AZ-d               │   │
│  │  ┌────┐     ┌────┐     ┌────┐              │   │
│  │  │ DC │     │ DC │     │ DC │              │   │
│  │  └────┘     └────┘     └────┘              │   │
│  │     ↕ Low Latency ↕                        │   │
│  └─────────────────────────────────────────────┘   │
│                                                     │
│  他のリージョン: us-east-1, eu-west-1, etc.        │
└─────────────────────────────────────────────────────┘
```

### リージョン選択の基準

| 要素 | 考慮点 |
|------|--------|
| レイテンシ | ユーザーに近いリージョン |
| コスト | リージョンで料金が異なる |
| コンプライアンス | データ保管場所の規制 |
| サービス可用性 | 新サービスは us-east-1 が先行 |

## 代表的なアーキテクチャ

### サーバーレス Web アプリ

```
┌─────────┐     ┌─────────┐     ┌─────────┐
│ Client  │────▶│CloudFront│────▶│   S3    │
└─────────┘     └────┬────┘     │ (静的)  │
                     │          └─────────┘
                     ▼
              ┌─────────────┐
              │ API Gateway │
              └──────┬──────┘
                     ▼
              ┌─────────────┐
              │   Lambda    │
              └──────┬──────┘
                     ▼
              ┌─────────────┐
              │  DynamoDB   │
              └─────────────┘
```

### コンテナベース

```
┌─────────┐     ┌─────────┐     ┌─────────────┐
│ Client  │────▶│   ALB   │────▶│    ECS      │
└─────────┘     └─────────┘     │  (Fargate)  │
                                └──────┬──────┘
                                       ▼
                                ┌─────────────┐
                                │ Aurora/RDS  │
                                └─────────────┘
```

## AWS CLI セットアップ

```bash
# インストール
brew install awscli

# 設定
aws configure
# AWS Access Key ID: AKIA...
# AWS Secret Access Key: ...
# Default region name: ap-northeast-1
# Default output format: json

# 確認
aws sts get-caller-identity
```

## SDK（Node.js）

```bash
npm install @aws-sdk/client-s3 @aws-sdk/client-dynamodb
```

```typescript
// S3 の例
import { S3Client, PutObjectCommand } from "@aws-sdk/client-s3";

const s3 = new S3Client({ region: "ap-northeast-1" });

await s3.send(new PutObjectCommand({
  Bucket: "my-bucket",
  Key: "file.txt",
  Body: "Hello World",
}));
```

## 料金体系

```
AWS の料金モデル:
1. 従量課金 - 使った分だけ
2. リザーブド - 1-3年契約で割引
3. スポット - 余剰リソースを安価に

主なコスト要因:
• コンピューティング時間
• ストレージ容量
• データ転送（特にアウトバウンド）
• リクエスト数
```

## 次のステップ

次章では、IAM とセキュリティについて学びます。
